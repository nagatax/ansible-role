---
##################################################
# Define tasks
##################################################

- name: Register NodeJS repository
  shell: |
    set -o pipefail
    curl --silent --location https://rpm.nodesource.com/setup_8.x | bash -
  become: yes # use sudo

- name: Install NodeJS
  yum:
    name: nodejs
    state: present
  become: yes # use sudo

- name: Register Yarn repository
  shell: |
    set -o pipefail
    curl --silent --location https://dl.yarnpkg.com/rpm/yarn.repo | tee /etc/yum.repos.d/yarn.repo
  become: yes # use sudo

- name: Install Yarn
  yum:
    name: yarn
    state: present
  become: yes # use sudo
